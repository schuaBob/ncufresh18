<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
<script src='https://www.google.com/recaptcha/api.js'></script>
<script>
$(document).ready(() => {
    //只看單一分類
    $("li a[href='#校園生活']").on('click',function(){
        $('tr.Q').hide();
        $('tr.校園生活').fadeIn(500);
    });
    $("li a[href='#學生事務']").on('click',function(event){
        $('tr.Q').hide();
        $('tr.學生事務').fadeIn(500);
    });
    $("li a[href='#課程相關']").on('click',function(event){
        $('tr.Q').hide();
        $('tr.課程相關').fadeIn(500);
    });
    $("li a[href='#其他']").on('click',function(event){
        $('tr.Q').hide();
        $('tr.其他').fadeIn(500);
    });
    $("li a[href='#all']").on('click',function(event){
        $('tr.Q').fadeIn(500);
    });
    /*$("li a[href='#time']").on('click',function(event){

    });*/
    /*$("li a[href='#hot']").on('click',function(event){

    });*/
    //紀錄點擊次數
    $('tr').on('click',function(){
        //var id = $(this).prop('id');
        var id = this.id.split('-')[0];
        $.ajax({
            url: '/qna/' + id,
            method: 'GET',
            success: function(res) {
            
                //動態新增點擊次數
                var objs = $('.' + id).find('.view');
                for (var i = 0; i < objs.length; i++) {
                    objs[i].innerHTML = parseInt(objs[i].innerHTML) + 1;
                }
        
            }
        })
    })
    //搜尋功能
    /*$(".searchbtn").on('click',function(){
        if($("#searchtext").val()!==""){
            var keyword = $("#searchtext").val();
            console.log(keyword);
            $.ajax({
                url: '/qna/search?keyword='+keyword,
                method: 'GET',
                success: function(res) {
                    //$('tr.Q').hide();
                }
            })
        }
    })*/
    //置頂功能
    $('.checktop').on('click',() =>{
        console.log($('input.checktop').prop('checked'));
        if($('input.checktop').prop('checked')){
            console.log("測試用2");
            //var id = this.id.split('-')[0];
            var id = $(this).prop('id');
            console.log($('tbody').find('#' + id));
            $($('tbody').find('#' + id)).addClass('top');
        }
    })
})         
</script>