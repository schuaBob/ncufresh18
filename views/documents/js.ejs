<script>

    $(document).ready(function () {


        //showmodel全屏，偵測手機高度
        let y =$(window).height();
        let h =(y-80)+"px"
        let top= (y-80)+"px"
        //將css的變數取出
            //var bodyStyles = window.getComputedStyle(document.body);
            //var fooBar = bodyStyles.getPropertyValue('--height'); //get
        document.body.style.setProperty('--height', h);//set
        
    
        //判斷是用電腦還手機
        let x= $(window).width();  
        if(x>450){
            $("#t_close").show();
            $("#o_close").show();
            $("#b_close").hide();
        }
        else{
           // $("#edit").modal("hide");
            $("#t_close").hide();
            $("#o_close").hide();
            $("#b_close").show();   
        }



        //螢幕縮放偵測
        $(window).resize(function(){
            
            let rx= $(window).width();
           
            if(rx>520){
                $("#t_close").show();
                $("#o_close").show();
                $("#b_close").hide();
            }
            else{
                $("#t_close").hide();
                $("#o_close").hide();
                $("#b_close").show();

            }
            //有人的手機長度會改嗎???
            let ry =$(window).height();
            let h =(ry-80)+"px";
            document.body.style.setProperty('--height', h);//set

       })

        CKEDITOR.replace('add_text', {
            
            filebrowserUploadUrl: '/uploader',
        });

        //大學生研究生的動畫
        $(".under").mouseover(function () {
            $(".gra").removeClass("big").addClass("small");

        });
        $(".gra").mouseover(function () {
            $(".under").removeClass("big").addClass("small");
        });
        $(".under").mousedown(function () {
            $(".under").removeClass("small").addClass("big");
            $(".gra").removeClass("big").addClass("small");
        });

        $(".gra").mousedown(function () {
            $(".gra").removeClass("small").addClass("big");
            $(".under").removeClass("big").addClass("small");
        });


        /*
        $(".box").mousedown(function () {
            
            //抓按下按鈕的id
            let count = 0;
            let textid = this.id;
            $("#edit").modal("show");

            //將js的變數給html裡的form action
            $('#add').attr('action', "/documents/edit/" + textid);

            $.ajax({
                url: "/documents/require_data/" + textid,
                method: 'get',
                error: function (err) {
                    console.log(err);
                },
                success: function (data) {
                    
                    $("#edit_title").val(data.title);
                    CKEDITOR.instances.edit_content.setData(data.content);
                }
            });
        });*/

        //使用者
        $(".box").mousedown(function () {

            let count = 0;
            let textid = this.id;
            $("#show").modal("show");

            $.ajax({
                url: "/documents/require_data/" + textid,
                method: 'get',
                error: function (err) {
                    console.log(err);
                },
                success: function (data) {

                    $("#show_title").html(data.title);
                    $("#show_content").html(data.content);

                }
            });
        });


        //預設為大學生
        $(".graduate").hide();
        $(".undergraduate").show();
        
        //大學生研究生選擇
        $(".gra").mousedown(function () {
            $("body").css("background-image","url('moonb.png')");
            $(".graduate").show();
            $(".undergraduate").hide();
           

        });
        $(".under").mousedown(function () {
            $("body").css("background-image","url('test.jpg')");
            $(".graduate").hide();
            $(".undergraduate").show();
        });
       
        
       



        
        /*處理ckeditor與model相容的問題，之後發現刪除tabindex="-1"也可
        $('.modal').removeAttr('tabindex');

        $('.modal').focusout(function(){
            $(this).css({'position':'relative'});
        });

        $('.modal').focusin(function(){
            $(this).css({'position':'fixed'});
        }); */





    })


</script>